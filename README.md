# Summer Scramble

Welcome to the Summer Scramble source code! If you're reading this, chances are you're wondering how to build the game. It will be easier to get how that works once you understand the project's structure, so let's start there.

## Project Structure

```
Summer Scramble
├── bin: builds go here, both the tools and the game
├── dep: external dependencies reside here
├── res: game resources
│   ├── gfx: character portraits and other misc graphics
│   └── ogmo: Ogmo Editor files for game rooms
│             (and graphics pertaining to them)
├── src: the game's source code
│   ├── entity: code for misc game entities
│   └── tmp: autogenerated source code
└── util: misc utilities
```

See? It isn't all that scrambled!

## Build Process

I have not implemented a nice and simple `Makefile` yet. Instead, there are a series of scripts in the project's root directory. I will list them in the order they're meant to be executed and describe the purpose of each.

 - `utils.sh` - builds the utilities that are necessary for everything else
 - `gfx.sh` - uses `EzSpriteSheet` to generate `src/tmp/gfx.h` from `res/gfx`'s contents
 - `build.sh` - builds the game
 - `run.sh` - runs the game
 - `vfs.sh` - builds a virtual filesystem (optional, only needed for self-contained builds)

It's broken up into steps like this so you can selectively generate new room, entity, or sprite data depending on your needs. You don't have to rerun a script if none of the resources it touches have changed.

## Windows Build Environment

 - Install [msys2](https://www.msys2.org/) into `C:\msys64`
 - In the game's `util` folder, open `open-msys2-here-64.reg`. This will update your registry so you have an 'open msys2 here' option when right-clicking within a folder.
 - Within the game's root folder, right click and select 'open msys2 here'.
 - Type `util/win32-msys2-setup.sh` and press the Enter key. If ever prompted, press Y for yes, followed by the Enter key.

Now that you have the base packages, try typing `./utils.sh` and pressing Enter. If that works, repeat for `./gfx.sh`, `./build.sh`, and `./run.sh`.

